{{ define "nuntius" }}
<div id="nuntius" class="relative z-0 w-full h-full bg-stone-200 text-stone-900 font-montserrat">
    <button hx-get="/projects" hx-target="body" class="absolute left-4 top-4 w-20 h-20 flex justify-center items-center bg-stone-300 rounded-full">
        <i class="fa-solid fa-arrow-left fa-2xl"></i>
    </button>

    <div class="absolute left-1/2 -translate-x-1/2 w-1/3 h-full pb-8 pt-4">
        <div class="relative z-10 w-full h-full">
            <div id="chat" class="absolute z-20 top-0 w-full ">
            </div>
            <form id="tts_form" hx-post="/r/nuntius/text" hx-swap="#chat" class="absolute z-30 bottom-0 w-full px-5 py-3 flex gap-2 bg-stone-300 rounded-3xl">
                <textarea name="input" id="input" rows="1" class="w-full bg-transparent resize-none focus:outline-none" placeholder="Input your text..."></textarea>
                <button type="submit" ><i class="fa-solid fa-paper-plane fa-xl"></i></button>
            </form>
        </div>
    </div>

    <script>
        function init() {
            const form = document.getElementById("tts_form")
            const input = document.getElementById("input")
            function resize() {
                input.style.height = "auto"
                input.style.height = (input.scrollHeight) + "px"
            }
            function clearInput() {
                form.reset()
            }
            input.addEventListener("input", resize)
            form.addEventListener("submit", clearInput)
            resize()
        }

        init()
    </script>
</div>
{{ end }}